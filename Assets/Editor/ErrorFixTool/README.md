# Unity混淆报错修复工具

## 📖 简介

Unity混淆报错修复工具是一个自动化工具，用于修复Unity项目中因代码混淆导致的编译错误。工具可以自动读取Unity Console中的错误信息，并根据名称映射字典自动修复代码中的错误名称。

## ✨ 功能特性

- 🔍 **一键获取控制台报错**：自动从Unity日志文件中读取CS1061、CS0246、CS0103类型的错误
- 🛠️ **自动修复**：根据名称映射字典自动替换错误的类名、方法名等
- 🔄 **双向替换**：支持正向替换（键→值）和反向替换（值→键）
- 📝 **详细日志**：记录每次修复的详细信息到日志文件
- 🎯 **精确修复**：只修复Unity Console中报错的文件，不进行全局搜索
- 📊 **批量处理**：支持同一文件中多个相同错误的批量修复
- 🔄 **刷新功能**：修复一批错误后可以刷新窗口，继续处理下一批错误

## 🚀 使用方法

### 1. 打开工具
ErrorFixTool文件夹放到Editor目录下

在Unity编辑器中，点击菜单栏：`Tools` → `修复混淆报错（一键获取控制台）`

如果Unity已经报错 先关闭Unity 再打开Unity 才会出现工具栏

### 2. 配置名称映射字典
工具需要读取 `Assets/Editor/WordDic.csv` 文件作为名称映射字典。

### 3. 使用流程
1. **获取报错**：点击 `🔍 一键获取控制台报错` 按钮
   - 工具会自动读取Unity日志文件中的错误信息
   - 如果找到错误，会在日志区域显示

2. **自动修复**：点击 `🛠️ 解析报错并自动修复` 按钮
   - 工具会解析错误信息，提取需要修复的文件和名称
   - 根据字典映射关系自动替换代码中的错误名称
   - 修复完成后会显示详细的修复日志

3. **刷新窗口**：如果还有新的错误出现
   - 点击 `🔄 刷新窗口（重置状态）` 按钮
   - 窗口状态会重置，可以重新获取报错并继续修复


## 📝 日志记录
### 日志文件位置
`Assets/Editor/ErrorFixTool/ErrFixLog.txt`
### 日志格式
每次修复都会追加详细的日志记录，包括：
========================================
修复时间：2024-01-15 14:30:25
========================================

【文件】Assets\CashOut\CashOutManager.cs
  ├─ 替换类型：正向替换（键→值）
  ├─ 替换：MonoSingleton< → FlawAdventure<
  ├─ 位置：第14行（泛型形式）
  ├─ 替换前：MonoSingleton<
  └─ 替换后：FlawAdventure


**祝使用愉快！** 🎉
